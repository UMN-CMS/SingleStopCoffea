# The name of analysis to be run
name: DatavMC2023

# Samples and in which regions they should be processed
samples:
  QCDInclusive2023: [Control_HT]
  Data2023_preBPix: [Control_AK8]

# Samples and in which regions they should be processed
execution_config:
  cluster_type: lpccondor
  max_workers: 50
  worker_memory: 4GB
  worker_timeout: 10800
  chunk_size: 75000

file_config:
  location_priority_regex: [".*FNAL.*", ".*US.*", ".*(DE|IT|CH|FR).*", ".*(T0|T1|T2).*","eos"]
  use_replicas: True

# You can use yaml anchors to reduce the amount of duplication in the configuration file
common_items:
    common_signal_histograms: &common_signal
      - name: njets
      - name: goodjet_ht
      - name: jet_kinematics
      - name: jet_combo_kinematics
      - name: leading_fat_jet_kinematics
      - name: jet_relative_angles

    common_objects: &common_objects
      - name: core_objects

    common_preselection: &common_preselection 
      - name: golden_lumi_filter
        sample_spec:
          sample_type: Data


# A region has a name, followed by description of what modules should be run
# for each stage of the analysis: preselection, object_creation, selection, categorization, and histogram production for the given region.
# Additionally, a module may also have a `sample_spec` option, which limits which samples it applies to, ie only make gen-level hists for MC.
# Weighting information is defined in the weights nodes, described below.
regions:
 # - name: Signal313
 #   forbid_data: true
 #   objects: *common_objects
 #   preselection:
 #     - name: selection_hlt
 #   selection:
 #     - name: general_selection
 #     - name: 313_selection
 #   categories:
 #     - njets_category:
 #   histograms: *common_signal
 #   weights:
 #     - <<: *common_weights
 #     - name: btag_scale_factors
 #       config:
 #           working_points: [T]
  - name: Control_HT
    objects: *common_objects
    preselection:
      - <<: *common_preselection
      - name: signal_ht_trigger
    selection: 
      - name: general_selection
      - name: partial_cr_selection
    histograms: *common_signal


  - name: Control_AK8
    objects: *common_objects
    preselection:
      - <<: *common_preselection
      - name: signal_single_jet_trigger
    selection: 
      - name: general_selection
      - name: partial_cr_selection
    histograms: *common_signal