Postprocessing:
  # general_config:
  #   configuration:
  #     output_dir: "plots/{region_name}/{sample_name}/"
  #     image_type: pdf
  #     cms_tag: Preliminary
  #     style_file: null

  - name: Export Hists
    action: ExportHists
    histogram_names: [m13_m, m24_m, m14_m, m13_vs_m14, m24_vs_m14 , ratio_m24_vs_m14, uncomp_0p67_m14_vs_mChiUncomp , uncomp_0p67_m14_vs_mChiUncompRatio]
    to_export: {sample_spec: {name: ["signal_312_*", "QCD*"] }}
    output_name: "regression_results/{dataset.era.name}_{region.region_name}_{histogram_name}.pkl"
    groupby: ["dataset.era.name", "region.region_name"]

  - name: Cutflow
    action: PlotCutflow
    style_set: "default.yaml"
    to_plot: {sample_spec: {name: ["signal_312_2*", "QCD*"] }}
    output_name: "plots/{dataset.era.name}/{region.region_name}/{dataset.name}_{histogram_name}.pdf"
    groupby: ["dataset.era.name", "region.region_name", "dataset.name"]
    normalize: false

  - name: Plot Basic stuff
    action: Histogram1D
    style_set: "default.yaml"
    histogram_names: [HT, m13_m, m24_m, m14_m, pt_1, pt_2, pt_3, h_njet]
    to_plot: {sample_spec: {name: ["signal_312_2*", "QCD*"] }}
    output_name: "plots/{dataset.era.name}/{region.region_name}/{histogram_name}.pdf"
    groupby: ["dataset.era.name", "region.region_name"]
    normalize: false

  - name: Plot Basic stuff
    action: Histogram1D
    style_set: "default.yaml"
    histogram_names: [HT, m13_m, m24_m, m14_m, pt_1, pt_2, pt_3, h_njet]
    to_plot: {sample_spec: {name: ["signal_312_2*", "QCD*"] }}
    output_name: "plots/{dataset.era.name}/{region.region_name}/{dataset.name}/{histogram_name}.pdf"
    groupby: ["dataset.era.name", "region.region_name", "dataset.name"]
    normalize: false

  - name: Normalized stuff
    action: Histogram1D
    style_set: "default.yaml"
    histogram_names: [HT, m13_m, m24_m, m14_m, pt_1, pt_2, pt_3, h_njet]
    to_plot: {sample_spec: {name: ["signal_312_2*", "QCD*"] }}
    output_name: "plots/{dataset.era.name}/{region.region_name}/normalized_{histogram_name}.pdf"
    groupby: ["dataset.era.name", "region.region_name"]
    normalize: true

  - name: 2D Stuff
    action: Histogram2D
    style_set: "default.yaml"
    histogram_names: [m13_vs_m14, m24_vs_m14 , uncomp_0p67_m14_vs_mChiUncomp , uncomp_0p67_m14_vs_mChiUncompRatio]

    to_plot: {sample_spec: {name: ["QCD*", "signal*"],  }, region_name: Signal312}
    output_name: "plots/{dataset.era.name}/{region.region_name}/{dataset.name}/{histogram_name}.pdf"
    groupby: ["dataset.era.name", "region.region_name", "dataset.name"]
