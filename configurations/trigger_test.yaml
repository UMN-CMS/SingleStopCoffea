# The name of analysis to be run

name: Complete
# Samples and in which regions they should be processed
datasets:
  - dataset: 'data_singlemuon_*2018*'
    regions: [ TriggerOnly]
  - dataset: 'data_muon_*2018*'
    regions: [ TriggerOnly]

regions:
  - name: TriggerOnly
    preselection:
      - name: golden_lumi_filter
      - name: iso_muon
    selection:
      - name: singlejet_trig_eff_selection
    objects:
      - name: trigger_eff_objects

    histograms: 
      - name: njets
      - name: goodjet_ht

    other_results:
      - name: save_trigger_info


executors:
  local:
    executor_type: dask_local
    step_size: 100000
    min_workers: 1
    catch_exceptions: False
    max_workers: 4
    timeouts:
      - pattern: "*signal*"
        timeout: 1200
      - pattern: "*"
        timeout: 120
  imm:
    executor_type: immediate
    step_size: 10000
    catch_exceptions: False

  condor:
    executor_type: condor
    step_size: 100000

  dask_condor:
    executor_type: dask_condor
    max_workers: 400
    min_workers: 10
    worker_memory: 6GB
    worker_timeout: 7200
    chunk_size: 400000
    reduction_factor: 5
    input_events_per_output: 10000000
    timeouts:
      - pattern: "*signal*"
        timeout: 2400
      - pattern: "*"
        timeout: 120
    extra_files:
        - nn_models/nominalBinaryUncompressed0p67_24-09-18-19-53/
        - nn_models/nominalBinaryCompressed0p67_24-09-18-20-06/

# Samples and in which regions they should be processed
execution_config:

file_config:
  location_priority_regex: [".*FNAL.*", ".*US.*", ".*(DE|IT|CH|FR).*", ".*(T0|T1|T2).*","eos"]
  # location_priority_regex: [".*(T0|T1|T2).*","eos"]
  use_replicas: True
