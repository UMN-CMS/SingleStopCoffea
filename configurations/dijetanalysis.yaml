name: DijetAnalysis

samples:
  #ZprimeToBB_narrow_M-6000_TuneCP5_13TeV-madgraph-pythia8: [Signal]
  #ZprimeToBB_narrow_M-2000_TuneCP5_13TeV-madgraph-pythia8: [Signal] 
  #ZprimeToBB_narrow_M-2500_TuneCP5_13TeV-madgraph-pythia8: [Signal]
  #ZprimeToBB_narrow_M-4000_TuneCP5_13TeV-madgraph-pythia8: [Signal]
  #signal_2018_312_dijet_1000_100: [Signal]
  #signal_2018_312_dijet_1000_400: [Signal]
  #signal_2018_312_dijet_1200_400: [Signal]
  #signal_2018_312_dijet_1300_400: [Signal]
  #signal_2018_312_dijet_1300_600: [Signal]
  #signal_2018_312_dijet_1400_400: [Signal]
  #signal_2018_312_dijet_1400_600: [Signal]
  #signal_2018_312_dijet_1500_100: [Signal]
  #signal_2018_312_dijet_1500_400: [Signal]
  #signal_2018_312_dijet_1500_600: [Signal]
  #signal_2018_312_dijet_2000_100: [Signal]
  #signal_2018_312_dijet_2000_400: [Signal]
  #signal_2018_312_dijet_2000_600: [Signal]
  #signal_2018_312_dijet_2000_900: [Signal]
  #signal_2018_312_1000_100: [Signal]
  #signal_2018_312_1200_100: [Signal]
  #signal_2018_312_1300_100: [Signal]
  #signal_2018_312_1400_100: [Signal]
  qcd_inclusive_2018: [Signal]
  #signal_2018_312_*: [Signal]

executors:
  local:
    executor_type: dask_local
    step_size: 100000
    max_workers: 4
    adapt: false
  imm:
    executor_type: immediate
    step_size: 100000
    catch_exceptions: false

  condor:
    executor_type: condor
    step_size: 100000

  dask_condor:
    executor_type: dask_condor
    max_workers: 200
    min_workers: 20 
    worker_memory: 4GB
    worker_timeout: 7200
    step_size: 100000

file_config:
  location_priority_regex: [".*FNAL.*", ".*US.*", ".*(T0|T1|T2).*", ".*(DE|IT|CH|FR).*", ".*(T0|T1|T2).*", "eos"]
  use_replicas: True

# You can use yaml anchors to reduce the amount of duplication in the configuration file
common_items:
    common_signal_histograms: &common_signal
      - name: dijet_hists
      - name: fatnjets
    common_objects: &common_objects
      - name: dijet_objects

    common_weights: &common_weights
      #- name: L1_prefiring_sf
      #  sample_spec:
      #    era: ["2016", "2017", "2018"]
      #    sample_type: MC
      #  config:
      #    variations: All

      - name: sign_gen_weight
        sample_spec:
          sample_type: MC

      #- name: pileup_sf
      #  sample_spec:
      #    sample_type: MC

regions:
  - name: Signal 
    objects: *common_objects
    #corrections: *common_corrections
    preselection:
      - name: signal_dijet_hlt
    selection: 
      - name: dijet_selection
    categories:
      - name: dijet_njet_category
    histograms: *common_signal
    #weights: *common_weights
