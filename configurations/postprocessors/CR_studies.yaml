PostDefaults:
  style_set: "style.yaml"
  plot_configuration:
    cms_text: "Preliminary"
    image_type: ".png"
    cms_text_color: Black

drop_sample_patterns: 
  # - "*30to50*"
  # - "*50to80*"
  # - "*80to120*"
  # - "*120to170*"
  # - "*170to300*"
  # - "*300to470*"
  # - "*470to600*"

  - "*50to100*"
  - "*100to200*"
  # - "*200to300*"
  # - "*300to500*"
  # - "*1500to*"
  # - "*2000to*"

Postprocessing:
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC'}
      pipeline: 
        - select_axes_values: {"variation": "unweighted"}
        - merge_axis_names: [ZeroLooseB,NJets,_HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": Data}
      pipeline: 
        - select_axes_values: {"variation": "unweighted"}
        - merge_axis_names: [ZeroLooseB,NJets,_HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/raw_{histogram_name}"
    
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC'}
      pipeline: 
        - select_axes_values: {"variation": "unweighted"}
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"ZeroLooseB": 1}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": Data}
      pipeline: 
        - select_axes_values: {"variation": "unweighted"}
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"ZeroLooseB": 1}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/raw_0b_{histogram_name}"
  
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC'}
      pipeline: 
        - select_axes_values: {"variation": "only_btag_shape_sf"}
        - merge_axis_names: [ZeroLooseB,NJets,_HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": Data}
      pipeline: 
        - select_axes_values: {"variation": "unweighted"}
        - merge_axis_names: [ZeroLooseB,NJets,_HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/only_bsf_{histogram_name}"
  
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - merge_axis_names: [ZeroLooseB,NJets, _HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": MC}
      pipeline: 
        - merge_axis_names: [ZeroLooseB]
        - projection_axes: [NJets,_HT]
          unweighted_name: unweighted
          other_name: only_btag_shape_sf
          target_name: central
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"variation":"central"}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/ht_nj_reweighted_bsf_{dataset.era.name}_{histogram_name}"
  
  
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - merge_axis_names: [ZeroLooseB,NJets, _HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": MC}
      pipeline: 
        - merge_axis_names: [ZeroLooseB, NJets]
  
        - projection_axes: [_HT]
          unweighted_name: unweighted
          other_name: only_btag_shape_sf
          target_name: central
        - merge_axis_names: [_HT]
        - select_axes_values: {"variation":"central"}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/ht_reweighted_bsf_{dataset.era.name}_{histogram_name}"
  
  
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - merge_axis_names: [NJets, _HT]
        - select_axes_values: {"ZeroLooseB": 1}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": MC}
      pipeline: 
        - select_axes_values: {"ZeroLooseB": 1}
  
        - projection_axes: [NJets,_HT]
          unweighted_name: unweighted
          other_name: only_btag_shape_sf
          target_name: central
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"variation":"central"}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/ht_nj_reweighted_bsf_0b_{dataset.era.name}_{histogram_name}"
  
  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - select_axes_values: {"ZeroLooseB": 1}
        - merge_axis_names: [NJets, _HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', "dataset.sample_type": MC}
      pipeline: 
        - projection_axes: [NJets,_HT]
          unweighted_name: unweighted
          other_name: only_btag_shape_sf
          target_name: central
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"ZeroLooseB": 1}
        - select_axes_values: {"variation":"central"}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/ht_nj_reweighted_bsf_0b_{dataset.era.name}_{histogram_name}"

  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
  
    style_set:
      - style:
          plot_type: step
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC', 'dataset.name': 'qcd*'}
      pipeline: 
        - merge_axis_names: [NJets, _HT, ZeroLooseB]
        - select_axes_values: {"variation": "unweighted"}
        - title_format: "{dataset.title} {variation}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC', 'dataset.name': 'qcd*'}
      pipeline: 
        - merge_axis_names: [NJets,_HT, ZeroLooseB]
        - select_axes_values: {"variation":"only_btag_shape_sf"}
        - title_format: "{dataset.title} {variation}"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/raw_pre_post_bsf_{dataset.era.name}_{histogram_name}"

  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
      - m14_m
      - T_nb
  
    normalize: true
    style_set:
      - style:
          plot_type: step
  
    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC', 'dataset.name': 'qcd*'}
      pipeline: 
        - merge_axis_names: [NJets, _HT, ZeroLooseB]
        - select_axes_values: {"variation": "unweighted"}
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC', 'dataset.name': 'qcd*'}
      pipeline: 
        - merge_axis_names: [NJets,_HT]
        - select_axes_values: {"ZeroLooseB": 1}
        - select_axes_values: {"variation":"unweighted"}
        - title_format: "{dataset.title} Zero B"
        - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/raw_pre_post_bcut_{dataset.era.name}_{histogram_name}"

  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
  
    no_stack: true
    style_set:
      - pattern:
          dataset.name: "qcd*"
        style:
          plot_type: step
      - pattern:
          dataset.name: 'data*'
        style:
          plottype: errorbar
          color: black
          linestyle: null
          marker: 'o'

    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - merge_axis_names: [ZeroLooseB,NJets, _HT]
        - title_format: "{dataset.title}"
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC'}
      pipelines: 
        - - projection_axes: [_HT]
            unweighted_name: unweighted
            other_name: only_btag_shape_sf
            target_name: central
          - merge_axis_names: [NJets,_HT, ZeroLooseB]
          - select_axes_values: {"variation":"central"}
          - title_format: "MC Bkg bSF HT-Reweight"
          - merge_fields: null
          - slices: [[null,3000]]

        - - projection_axes: [_HT,NJets]
            unweighted_name: unweighted
            other_name: only_btag_shape_sf
            target_name: central
          - merge_axis_names: [NJets,_HT, ZeroLooseB]
          - select_axes_values: {"variation":"central"}
          - title_format: "MC Bkg bSF HT/NJ-Reweight"
          - merge_fields: null
          - slices: [[null,3000]]

        - - select_axes_values: {"variation": "unweighted"}
          - merge_axis_names: [NJets,_HT, ZeroLooseB]
          - title_format: "MC Bkg No bSF"
          - merge_fields: null
          - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/bsf_ht_nj_reweighted_pre_post_{dataset.era.name}_{histogram_name}"


  - name: Plot
    action: RatioPlot 
    scale: log
    histogram_names:
      - DeepJet_b_Disc_all
      - HT
      - L_nb
      - h_njet
      - m13_m
  
    no_stack: true
    style_set:
      - pattern:
          dataset.name: "qcd*"
        style:
          plot_type: step
      - pattern:
          dataset.name: 'data*'
        style:
          plottype: errorbar
          color: black
          linestyle: null
          marker: 'o'

    numerator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'Data'}
      pipeline: 
        - select_axes_values: {"variation": "central"}
        - merge_axis_names: [NJets, _HT]
        - title_format: "{dataset.title}"
        - select_axes_values: {"ZeroLooseB": 1}
        - slices: [[null,3000]]
  
    denominator: 
      group_fields: {'dataset.era.name': '*', 'region_name': 'TriggerOnly', 'dataset.sample_type': 'MC'}
      pipelines: 
        - - projection_axes: [_HT]
            unweighted_name: unweighted
            other_name: only_btag_shape_sf
            target_name: central
          - merge_axis_names: [NJets,_HT]
          - select_axes_values: {"variation":"central"}
          - select_axes_values: {"ZeroLooseB": 1}
          - title_format: "MC Bkg bSF HT-Reweight"
          - merge_fields: null
          - slices: [[null,3000]]

        - - projection_axes: [_HT,NJets]
            unweighted_name: unweighted
            other_name: only_btag_shape_sf
            target_name: central
          - merge_axis_names: [NJets,_HT]
          - select_axes_values: {"variation":"central"}
          - select_axes_values: {"ZeroLooseB": 1}
          - title_format: "MC Bkg bSF HT/NJ-Reweight"
          - merge_fields: null
          - slices: [[null,3000]]

        - - select_axes_values: {"variation": "unweighted"}
          - merge_axis_names: [NJets,_HT]
          - title_format: "MC Bkg No bSF"
          - select_axes_values: {"ZeroLooseB": 1}
          - merge_fields: null
          - slices: [[null,3000]]
      
    match_fields: ['dataset.era.name' ,'region_name']
    output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/bsf_ht_nj_reweighted_0b_pre_post_{dataset.era.name}_{histogram_name}"



  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - DeepJet_b_Disc_all
  #     - HT
  #     - L_nb
  #     - h_njet
  #     - T_nb
  #     - h_njet
  # 
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', 'dataset.sample_type': 'Data'}
  #     pipeline: 
  #       - select_axes_values: {"variation":["central"]}
  #       - merge_axis_names: [ZeroLooseB,NJets]
  #       - title_format: "{dataset.title}"
  # 
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - merge_axis_names: [ZeroLooseB]
  #       - projection_axis: NJets
  #         unweighted_name: unweighted
  #         other_name: only_btag_shape_sf
  #         target_name: central
  # 
  #       - select_axes_values: {"variation":"central"}
  #       - merge_axis_names: [NJets]
  #       - title_format: "{dataset.title}"
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/{region_name}_trigger_only_with_sf_reweighted_{dataset.era.name}_{histogram_name}"
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - DeepJet_b_Disc_all
  #     - HT
  #     - L_nb
  #     - h_njet
  #     - T_nb
  #     - h_njet
  # 
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'Control', 'dataset.sample_type': 'Data'}
  #     pipeline: 
  #       - select_axes_values: {"variation":["central"]}
  #       - title_format: "{dataset.title}"
  # 
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'Control', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"central"}
  #       - title_format: "{dataset.title}"
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/for_btv/plots/{dataset.era.name}/{region_name}/{region_name}{dataset.era.name}_{histogram_name}"

  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - HT
  #     - L_nb
  # 
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', 'dataset.sample_type': 'Data'}
  #     pipeline: 
  #       - select_axes_values: {ZeroLooseB: 1}
  #       - select_axes_values: {"variation":"central"}
  #       - merge_axis_names: [_HT]
  #       - title_format: "{dataset.title} BTag"
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {ZeroLooseB: 1}
  #       - projection_axis: _HT
  #         unweighted_name: unweighted
  #         other_name: only_btag_shape_sf
  #         target_name: central
  #       - select_axes_values: {"variation":"central"}
  #       - merge_axis_names: [_HT]
  #       - title_format: "{dataset.title} Central"
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_0b_{dataset.era.name}_{histogram_name}"
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - DeepJet_b_Disc_all
  #     - DeepJet_b_Disc_jet_1
  #     - DeepJet_b_Disc_jet_2
  #     - HT
  #     - pt_1
  #     - L_nb
  #     - M_nb
  #     - T_nb
  # 
  #   style_set:
  #     - style:
  #         plot_type: step
  # 
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', 'dataset.sample_type': 'MC'}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title} {variation}"
  #       - merge_axis_names: [ZeroMedB]
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - select_axes_values: {ZeroLooseB: 1}
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"only_btag_shape_sf"}
  #       - title_format: "{dataset.title} {variation}"
  #       - merge_axis_names: [ZeroMedB]
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - select_axes_values: {ZeroLooseB: 1}
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_trigger_0b_variation_{dataset.era.name}_{histogram_name}"
  # 
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - L_nb
  #     - HT
  #     - pt_1
  #     - DeepJet_b_Disc_all
  #     # - DeepJet_b_Disc_jet_1
  #     # - DeepJet_b_Disc_jet_2
  # 
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - merge_axis_names: [PassHLTHT]
  #       - select_axes_values: {PassHLTSingleJet: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation" : unweighted}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - merge_axis_names: [PassHLTHT]
  #       - select_axes_values: {PassHLTSingleJet: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_hltak8_only_with_0b_{dataset.era.name}_{histogram_name}"
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - L_nb
  #     - HT
  #     - pt_1
  # 
  #   numerator: 
  #     group_fields: {'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - merge_axis_names: [PassHLTSingleJet]
  #       - select_axes_values: {PassHLTHT: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  # 
  # 
  #   denominator: 
  #     group_fields: {'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - merge_axis_names: [PassHLTSingleJet]
  #       - select_axes_values: {PassHLTHT: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  # 
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_hltht_only_with_0b_{dataset.era.name}_{histogram_name}"
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   histogram_names:
  #     - L_nb
  #     - M_nb
  #     - T_nb
  #     - HT
  #     - pt_1
  # 
  #   scale: log
  #   numerator: 
  #     group_fields: { 'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  # 
  #   denominator: 
  #     group_fields: { 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - merge_axis_names: [ZeroMedB]
  #       - select_axes_values: {ZeroLooseB: 1}
  # 
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/just_trigger_with_0b_{dataset.era.name}_{histogram_name}"
  # 
  # 
  # 
  # 
  # 
  # 
  # 
  # 
  # 
  # 
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - L_nb
  #     - M_nb
  #     - T_nb
  #     - HT
  #     - pt_1
  # 
  #   numerator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - merge_axis_names: [PassHLTHT]
  #       - select_axes_values: {PassHLTSingleJet: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - merge_axis_names: [ZeroLooseB]
  #   denominator: 
  #     group_fields: {'dataset.era.name': '*', 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - merge_axis_names: [PassHLTHT]
  #       - select_axes_values: {PassHLTSingleJet: 1}
  #       - merge_axis_names: [ZeroMedB]
  #       - merge_axis_names: [ZeroLooseB]
  #     
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_hltak8_only_without_0b_{dataset.era.name}_{histogram_name}"
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   scale: log
  #   histogram_names:
  #     - L_nb
  #     - HT
  #     - pt_1
  #     - DeepJet_b_Disc_all
  #     - DeepJet_b_Disc_jet_1
  #     - DeepJet_b_Disc_jet_2
  # 
  #   numerator: 
  #     group_fields: {'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - merge_axis_names: [PassHLTSingleJet]
  #       - select_axes_values: {PassHLTHT: 1}
  #       - merge_axis_names: [ZeroLooseB]
  #       - merge_axis_names: [ZeroMedB]
  # 
  # 
  #   denominator: 
  #     group_fields: {'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - merge_axis_names: [PassHLTSingleJet]
  #       - select_axes_values: {PassHLTHT: 1}
  #       - merge_axis_names: [ZeroLooseB]
  #       - merge_axis_names: [ZeroMedB]
  # 
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/{region_name}_hltht_only_without_0b_{dataset.era.name}_{histogram_name}"
  # 
  # - name: Plot
  #   action: RatioPlot 
  #   histogram_names:
  #     - L_nb
  #     - M_nb
  #     - T_nb
  #     - HT
  #     - pt_1
  #     - DeepJet_b_Disc_all
  #     - DeepJet_b_Disc_jet_1
  #     - DeepJet_b_Disc_jet_2
  # 
  #   scale: log
  #   numerator: 
  #     group_fields: { 'region_name': 'NoCuts', 'dataset.sample_type': Data}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - merge_axis_names: [ZeroLooseB]
  #       - merge_axis_names: [ZeroMedB]
  # 
  #   denominator: 
  #     group_fields: { 'region_name': 'NoCuts', "dataset.sample_type": MC}
  #     pipeline: 
  #       - select_axes_values: {"variation":"unweighted"}
  #       - title_format: "{dataset.title}"
  #       # - merge_fields: null
  #       - or_axis_names: [PassHLTSingleJet, PassHLTHT]
  #       - merge_axis_names: [ZeroLooseB]
  #       - merge_axis_names: [ZeroMedB]
  # 
  #   match_fields: ['dataset.era.name' ,'region_name']
  #   output_name: "postprocessing/CR/plots/{dataset.era.name}/{region_name}/just_trigger_without_0b_{dataset.era.name}_{histogram_name}"

